<html>
<head>
    <title>{{ queens_positions|length }}-Queens Game</title>
</head>
<style>
    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
        border-spacing: 10px;
    }
    td {
        padding: 10px;
    }
    div.text {
      width: 40%;
      margin-left: 250px;
      margin-top: 100px;
    }
    body {
      font-family: "Arial";
      background-image: url("http://clipart-library.com/download/clipart/1601117.htm");
      background-repeat: no-repeat;
    }
    .td {
        border: none;
        color: white;
        padding: 15px 15px;
        text-align: center;
        text-decoration: none;
        /*display: inline-block;*/
        font-size: 1px;
        margin: 2px 2px;
        cursor: pointer;
    }
    .td_black {
        background-color: #555555; /* blackish */
    }
    .td_light {
        background-color: #eeeeee; /* yellowish */
    }
    .button {
        border: none;
        padding: 15px 15px;
        text-align: center;
        text-decoration: none;
        /*display: inline-block;*/
        font-size: 1px;
        margin: 2px 2px;
        cursor: pointer;
    }
    .button_black{
        background-color: #555555; /* blackish */
    }
    .button_light{
        background-color: #eeeeee; /* yellowish */
    }
    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
    }
</style>
<body>

  <div class="text">
    
<p><b>You are solving the {{ queens_positions|length }}-queens puzzle.</b></p>

<table>
    {% for i in range(queens_positions|length) %}
    <tr>
        {% for j in range(queens_positions|length) %}
        {% if j + 1 == queens_positions[i] and is_valid %}
            <td bgcolor="#2dee86">
            <!-- display the queen -->
            <img class ="center" width="35" src="https://www.clipartmax.com/png/middle/279-2796604_queen-chess-piece-black-shape-comments-queen-chess-piece-clipart.png" >
            </td>
        {% elif j + 1 == queens_positions[i] and not is_valid %}
            <td bgcolor="#f12e86">
            <!-- display the queen -->
            <img class ="center" width="35" src="https://www.clipartmax.com/png/middle/279-2796604_queen-chess-piece-black-shape-comments-queen-chess-piece-clipart.png" >
            </td>
        {% else %}
           {% if (j % 2 == 0 and i % 2 == 0) or (j % 2 == 1 and i % 2 == 1) %}
               <td class="td td_black">
               <form action="/select" method="post" >
             <input class ="button button_black" name="button" type ="submit" value="{{ i }}_{{ j }}" />
             </form>
             </td>
           {% else %}
             <td class = "td td_light">
               <form action="/select" method="post" >
             <input class="button button_light" name="button" type ="submit" value="{{ i }}_{{ j }}" />
             </form>
             </td>
           {% endif %}
        {% endif %}
        {% endfor %}
    </tr>
    {% endfor %}
</table>



{% if not is_valid  %}
    <p>There exists no solution for your selection of queens (checked by
        CP solver <a href="http://gecode.org">Gecode</a>).</p>
    <p><button onclick="window.location.href='/nqueens-try-again'">Try again!</button>
    </p>
{% elif has_won %}
    <p>Well done, you have solved the puzzle!<br>
    <!-- show cute christmas puppies "as reward" -->
    <img width="350" src="https://us.123rf.com/450wm/tobkatrina/tobkatrina1609/tobkatrina160900041/64518706-singing-christmas-puppies-wearing-santa-hats-on-white.jpg?ver=6">
    </p>
    <p><button onclick="window.location.href='/nqueens-another-game'">Solve a larger problem!</button>
    </p>
{% else %}
    <p>Click on a field of the chess board to place your queen.</p>
    {% endif %}

     <br>
     <p><button onclick="window.location.href='/riccardo-xmas'">Go back to start page</button>
    </p>
    </div>
</body>
</html>
